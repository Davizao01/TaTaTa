<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dragon Ball Game</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #e0f7fa; }
        #game, #arena, #store { display: none; }
        #menu, #login, #skillTree, #battleMenu { display: none; }
        .button { margin: 5px; }
        .item { margin: 5px; padding: 5px; border: 1px solid #000; display: inline-block; }
    </style>
</head>
<body>
    <div id="login">
        <h1>Login</h1>
        <input type="text" id="username" placeholder="Digite seu nome de usu√°rio" />
        <button class="button" onclick="startGame()">Iniciar Jogo</button>
    </div>

    <div id="menu">
        <h1>Menu Principal</h1>
        <button class="button" onclick="iniciarJogo()">Iniciar Aventura</button>
        <button class="button" onclick="mostrarInstrucoes()">Instru√ß√µes</button>
        <button class="button" onclick="mostrarArvoreHabilidades()">√Årvore de Habilidades</button>
        <button class="button" onclick="irParaArena()">Arena PvP</button>
        <button class="button" onclick="irParaLoja()">Loja</button>
    </div>

    <div id="game">
        <h1>Jogo em Andamento</h1>
        <div id="status">
            <p id="vida">Vida: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
            <p id="ki">Ki: üîµ</p>
            <p id="nivel">N√≠vel: 1</p>
            <p id="experiencia">Experi√™ncia: 0</p>
            <p id="moedas">Moedas: 0</p>
            <p id="habilidade">Habilidade: Nenhuma</p>
        </div>
        <button class="button" onclick="transformar()">Transformar</button>
        <button class="button" onclick="usarHabilidade()">Usar Habilidade</button>
        <button class="button" onclick="buscarBau()">Buscar Ba√∫</button>
    </div>

    <div id="arena">
        <h1>Arena PvP</h1>
        <div id="battleStatus">
            <p id="player1Status">Jogador: <span id="player1Name"></span> (N√≠vel: <span id="player1Level"></span>) - Vida: <span id="player1Life"></span></p>
            <p id="player2Status">Inimigo: <span id="player2Name"></span> (N√≠vel: <span id="player2Level"></span>) - Vida: <span id="player2Life"></span></p>
        </div>
        <button class="button" onclick="startPvP()">Iniciar Batalha</button>
        <button class="button" onclick="voltarMenu()">Voltar</button>
    </div>

    <div id="store">
        <h1>Loja</h1>
        <div id="items"></div>
        <button class="button" onclick="voltarMenu()">Voltar</button>
    </div>

    <div id="skillTree">
        <h1>√Årvore de Habilidades</h1>
        <button class="button" onclick="unlockKiBlast()">Desbloquear Ki Blast (Custo: 2 pontos)</button>
        <button class="button" onclick="unlockKamehameha()">Desbloquear Kamehameha (Custo: 5 pontos)</button>
        <button class="button" onclick="voltarMenu()">Voltar</button>
    </div>

    <script>
        let playerLife = 3;
        let playerKi = 0;
        let nivel = 1;
        let experiencia = 0;
        let moedas = 0;
        let transformacaoAtiva = false;
        let habilidades = {
            kiBlast: false,
            kamehameha: false,
        };

        // Informa√ß√µes da Arena PvP
        let player1Name = '';
        let player1Level = 1;
        let player1Life = playerLife;

        let player2Name = 'Inimigo';
        let player2Level = Math.floor(Math.random() * 10) + 1; // N√≠vel aleat√≥rio de 1 a 10
        let player2Life = player2Level + 1; // Vida do inimigo baseada no n√≠vel

        // Itens da loja
        const itensLoja = [
            { nome: 'Espada de Ferro', custo: 5 },
            { nome: 'T√©cnica Ki Blast', custo: 10 },
            { nome: 'T√©cnica Kamehameha', custo: 15 },
        ];

        document.getElementById('login').style.display = 'block'; // Mostrar a tela de login

        function startGame() {
            const username = document.getElementById('username').value;
            if (username) {
                player1Name = username;
                alert(`Bem-vindo, ${player1Name}!`);
                document.getElementById('login').style.display = 'none';
                document.getElementById('menu').style.display = 'block';
                document.getElementById('player1Name').innerText = player1Name;
                document.getElementById('player1Level').innerText = player1Level;
                document.getElementById('player1Life').innerText = player1Life;
                document.getElementById('player2Name').innerText = player2Name;
                document.getElementById('player2Level').innerText = player2Level;
                document.getElementById('player2Life').innerText = player2Life;
            } else {
                alert('Por favor, insira um nome de usu√°rio.');
            }
        }

        function iniciarJogo() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('game').style.display = 'block';
            iniciarCombate();
        }

        function iniciarCombate() {
            // Simulando um combate simples
            while (playerLife > 0) {
                alert('Voc√™ encontrou um inimigo!');
                if (transformacaoAtiva) {
                    alert('Voc√™ atacou o inimigo com Kamehameha!');
                    experiencia += 3;
                } else {
                    alert('Voc√™ n√£o est√° transformado. O inimigo ataca.');
                    playerLife -= 1; // O inimigo ataca
                }
                document.getElementById('vida').innerText = 'Vida: ‚ù§Ô∏è'.repeat(playerLife);
                document.getElementById('experiencia').innerText = `Experi√™ncia: ${experiencia}`;
                document.getElementById('moedas').innerText = `Moedas: ${moedas}`;

                if (experiencia >= 5) {
                    nivel++;
                    alert(`Voc√™ subiu de n√≠vel! N√≠vel atual: ${nivel}`);
                }
            }

            if (playerLife <= 0) {
                alert('Voc√™ foi derrotado! Jogo encerrado.');
            }
        }

        function transformar() {
            if (nivel >= 3) {
                transformacaoAtiva = true;
                playerKi += 1; // Ganho de Ki ao se transformar
                alert('Voc√™ se transformou em Super Saiyajin!');
                document.getElementById('ki').innerText = 'Ki: üîµüîµ'; // Aumenta o Ki
            } else {
                alert('Voc√™ precisa ser pelo menos n√≠vel 3 para se transformar!');
            }
        }

        function usarHabilidade() {
            if (habilidades.kiBlast) {
                alert('Voc√™ usou Ki Blast!');
            } else if (habilidades.kamehameha) {
                alert('Voc√™ usou Kamehameha!');
            } else {
                alert('Voc√™ n√£o tem habilidades desbloqueadas!');
            }
        }

        function buscarBau() {
            const loot = Math.floor(Math.random() * 10);
            if (loot > 5) {
                alert('Voc√™ encontrou um ba√∫! Voc√™ ganhou 5 moedas!');
                moedas += 5;
                document.getElementById('moedas').innerText = `Moedas: ${moedas}`;
            } else {
                alert('Nada encontrado no ba√∫.');
            }
        }

        function mostrarArvoreHabilidades() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('skillTree').style.display = 'block';
        }

        function unlockKiBlast() {
            if (experiencia >= 2) {
                habilidades.kiBlast = true;
                experiencia -= 2;
                alert('Habilidade Ki Blast desbloqueada!');
            } else {
                alert('Experi√™ncia insuficiente para desbloquear Ki Blast.');
            }
        }

        function unlockKamehameha() {
            if (experiencia >= 5) {
                habilidades.kamehameha = true;
                experiencia -= 5;
                alert('Habilidade Kamehameha desbloqueada!');
            } else {
                alert('Experi√™ncia insuficiente para desbloquear Kamehameha.');
            }
        }

        function irParaArena() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('arena').style.display = 'block';
        }

        function startPvP() {
            // Simula√ß√£o da batalha PvP
            let turn = Math.random() < 0.5 ? 1 : 2; // Decide quem come√ßa
            alert(`${turn === 1 ? player1Name : player2Name} come√ßa a batalha!`);
            while (player1Life > 0 && player2Life > 0) {
                if (turn === 1) {
                    player2Life--;
                    alert(`${player1Name} atacou! Vida do Inimigo: ${player2Life}`);
                    turn = 2;
                } else {
                    player1Life--;
                    alert(`${player2Name} atacou! Vida do Jogador: ${player1Life}`);
                    turn = 1;
                }
            }
            if (player1Life <= 0) {
                alert(`${player1Name} foi derrotado!`);
            } else {
                alert(`${player2Name} foi derrotado! Voc√™ venceu!`);
            }
            voltarMenu();
        }

        function irParaLoja() {
            document.getElementById('menu').style.display = 'none';
            document.getElementById('store').style.display = 'block';
            const itemsContainer = document.getElementById('items');
            itemsContainer.innerHTML = '';
            itensLoja.forEach(item => {
                itemsContainer.innerHTML += `<div class="item">${item.nome} - ${item.custo} moedas <button onclick="comprarItem('${item.nome}', ${item.custo})">Comprar</button></div>`;
            });
        }

        function comprarItem(nome, custo) {
            if (moedas >= custo) {
                moedas -= custo;
                alert(`Voc√™ comprou ${nome}!`);
                document.getElementById('moedas').innerText = `Moedas: ${moedas}`;
            } else {
                alert('Moedas insuficientes!');
            }
        }

        function voltarMenu() {
            document.getElementById('arena').style.display = 'none';
            document.getElementById('store').style.display = 'none';
            document.getElementById('skillTree').style.display = 'none';
            document.getElementById('menu').style.display = 'block';
        }

        function mostrarInstrucoes() {
            alert('Instru√ß√µes:\n1. Jogue para ganhar experi√™ncia.\n2. Desbloqueie habilidades na √°rvore de habilidades.\n3. Enfrente inimigos na arena PvP.\n4. Compre itens na loja usando moedas.');
        }
    </script>
</body>
</html>
