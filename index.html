<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Aventura</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
            background-color: #87CEEB; /* Cor do céu */
        }
        #gameCanvas {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        .ground {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background-color: #228B22; /* Cor da grama */
        }
        .player, .enemy {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: #FFD700; /* Cor do jogador */
        }
        .enemy {
            background-color: #FF0000; /* Cor dos zumbis */
        }
        #hud {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
        }
    </style>
</head>
<body>
    <div id="gameCanvas">
        <div id="player" class="player"></div>
        <div class="ground"></div>
    </div>
    <div id="hud">
        <p>Nível: <span id="level">0</span></p>
        <p>XP: <span id="xp">0</span></p>
        <button id="statusButton">Status</button>
    </div>

    <script>
        // Variáveis do jogo
        const player = document.getElementById('player');
        const gameCanvas = document.getElementById('gameCanvas');
        const levelDisplay = document.getElementById('level');
        const xpDisplay = document.getElementById('xp');
        const statusButton = document.getElementById('statusButton');

        let playerLevel = 0;
        let playerXP = 0;
        let gravity = 1;
        let isJumping = false;
        let jumpStrength = 20;
        let jumpCount = 0;

        // Função para atualizar HUD
        function updateHUD() {
            levelDisplay.innerText = playerLevel;
            xpDisplay.innerText = playerXP;
        }

        // Função de gravidade e pulo
        function applyGravity() {
            if (isJumping) {
                const playerBottom = parseInt(window.getComputedStyle(player).bottom);
                if (playerBottom > 20) {
                    player.style.bottom = (playerBottom - gravity) + 'px';
                } else {
                    isJumping = false; // O jogador volta ao chão
                    player.style.bottom = '20px';
                }
            }
        }

        // Função para pular
        function jump() {
            if (!isJumping && jumpCount < 2) { // Permite 2 pulos
                isJumping = true;
                jumpCount++;
                const jumpInterval = setInterval(() => {
                    const playerBottom = parseInt(window.getComputedStyle(player).bottom);
                    if (playerBottom < jumpStrength + 20) {
                        player.style.bottom = (playerBottom + jumpStrength) + 'px';
                    } else {
                        clearInterval(jumpInterval);
                    }
                }, 20);
            }
        }

        // Função para gerar inimigos
        function spawnEnemy() {
            const enemy = document.createElement('div');
            enemy.className = 'enemy';
            enemy.style.left = Math.random() * (window.innerWidth - 40) + 'px';
            enemy.style.bottom = '20px'; // Altura inicial dos inimigos
            gameCanvas.appendChild(enemy);

            // Lógica de movimento do inimigo
            const enemyInterval = setInterval(() => {
                const enemyBottom = parseInt(window.getComputedStyle(enemy).bottom);
                if (enemyBottom > 0) {
                    enemy.style.bottom = (enemyBottom - gravity) + 'px';
                } else {
                    clearInterval(enemyInterval);
                    enemy.remove(); // Remove o inimigo se atingir o chão
                }
            }, 100);
        }

        // Gerar XP aleatória quando um inimigo é derrotado
        function enemyDefeated() {
            const xpGained = Math.floor(Math.random() * 20) + 1; // XP aleatório entre 1 e 20
            playerXP += xpGained;
            if (playerXP >= 100) { // Aumenta o nível a cada 100 XP
                playerLevel++;
                playerXP = 0; // Resetando XP após subir de nível
            }
            updateHUD();
        }

        // Controle de eventos
        window.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                jump(); // Pula ao pressionar a barra de espaço
            }
        });

        // Spawn de inimigos a cada 3 segundos
        setInterval(spawnEnemy, 3000);

        // Atualização da gravidade
        setInterval(applyGravity, 20);

        // Atualização do HUD
        updateHUD();

        // Exibir status
        statusButton.addEventListener('click', () => {
            alert(`Nível: ${playerLevel}\nXP: ${playerXP}`);
        });
    </script>
</body>
</html>
